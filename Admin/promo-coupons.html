<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo-section">
                <img src="../images/logo.webp" alt="Logo" class="logo">
                <h3 class="header-title">Admin Panel</h3>
            </div>
            <div class="header-icons" style="gap: .8rem;">
                <button class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M22 20H2V18H3V11.0314C3 6.04348 7.02944 2 12 2C16.9706 2 21 6.04348 21 11.0314V18H22V20ZM9.5 21H14.5C14.5 22.3807 13.3807 23.5 12 23.5C10.6193 23.5 9.5 22.3807 9.5 21Z">
                        </path>
                    </svg>
                    <span class="cart-count" style="top: -5px; right: -5px;">3</span>
                </button>

                <div class="profile-wrapper">
                    <button class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM6.02332 15.4163C7.49083 17.6069 9.69511 19 12.1597 19C14.6243 19 16.8286 17.6069 18.2961 15.4163C16.6885 13.9172 14.5312 13 12.1597 13C9.78821 13 7.63095 13.9172 6.02332 15.4163ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z">
                            </path>
                        </svg>
                    </button>
                    <div class="profile-dropdown">
                        <a href="profile.html">Profile</a>
                        <!-- <a href="#">Settings</a> -->
                        <a href="#" class="logout">Logout</a>
                    </div>
                    <!-- <div class="profile-dropdown">
                        <a href="auth.html?form=login">Login</a>
                        <a href="auth.html?form=register">Register</a>
                    </div> -->
                </div>

                <button class="mobile-toggle" id="mobile-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="nav">
        <nav class="nav-menu">
            <a href="dashboard.html" class="nav-item active" data-page="dashboard">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M3 12C3 12.5523 3.44772 13 4 13H10C10.5523 13 11 12.5523 11 12V4C11 3.44772 10.5523 3 10 3H4C3.44772 3 3 3.44772 3 4V12ZM3 20C3 20.5523 3.44772 21 4 21H10C10.5523 21 11 20.5523 11 20V16C11 15.4477 10.5523 15 10 15H4C3.44772 15 3 15.4477 3 16V20ZM13 20C13 20.5523 13.4477 21 14 21H20C20.5523 21 21 20.5523 21 20V12C21 11.4477 20.5523 11 20 11H14C13.4477 11 13 11.4477 13 12V20ZM14 3C13.4477 3 13 3.44772 13 4V8C13 8.55228 13.4477 9 14 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H14Z">
                    </path>
                </svg>
                <span>Dashboard</span>
            </a>
            <a href="orders.html" class="nav-item" data-page="orders">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M20.5021 5.92225 12 1 3.49793 5.92225 12 10.8445 20.5021 5.92225ZM2.5 7.6555V17.5L11 22.4211V12.5765L2.5 7.6555ZM13 22.4211 21.5 17.5V7.6555L13 12.5765V22.4211Z">
                    </path>
                </svg>
                <span>Orders</span>
            </a>
            <a href="products.html" class="nav-item" data-page="products">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M9 6C9 4.34315 10.3431 3 12 3C13.6569 3 15 4.34315 15 6H9ZM7 6H4C3.44772 6 3 6.44772 3 7V21C3 21.5523 3.44772 22 4 22H20C20.5523 22 21 21.5523 21 21V7C21 6.44772 20.5523 6 20 6H17C17 3.23858 14.7614 1 12 1C9.23858 1 7 3.23858 7 6ZM9 10C9 11.6569 10.3431 13 12 13C13.6569 13 15 11.6569 15 10H17C17 12.7614 14.7614 15 12 15C9.23858 15 7 12.7614 7 10H9Z">
                    </path>
                </svg>
                <span>Products</span>
            </a>
            <a href="promo-coupons.html" class="nav-item" data-page="promo">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M10.9042 2.10025L20.8037 3.51446L22.2179 13.414L13.0255 22.6063C12.635 22.9969 12.0019 22.9969 11.6113 22.6063L1.71184 12.7069C1.32131 12.3163 1.32131 11.6832 1.71184 11.2926L10.9042 2.10025ZM13.7327 10.5855C14.5137 11.3666 15.78 11.3666 16.5611 10.5855C17.3421 9.80448 17.3421 8.53815 16.5611 7.7571C15.78 6.97606 14.5137 6.97606 13.7327 7.7571C12.9516 8.53815 12.9516 9.80448 13.7327 10.5855Z">
                    </path>
                </svg>
                <span>Promo & Coupons</span>
            </a>
            <a href="reviews.html" class="nav-item" data-page="reviews">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26Z">
                    </path>
                </svg>
                <span>Reviews</span>
            </a>
            <a href="faq.html" class="nav-item" data-page="faq">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM11 14V16H13V14H11ZM8.56731 8.81346L10.5288 9.20577C10.6656 8.51823 11.2723 8 12 8C12.8284 8 13.5 8.67157 13.5 9.5C13.5 10.3284 12.8284 11 12 11H11V13H12C13.933 13 15.5 11.433 15.5 9.5C15.5 7.567 13.933 6 12 6C10.302 6 8.88637 7.20919 8.56731 8.81346Z">
                    </path>
                </svg>
                <span>FAQ</span>
            </a>
            <a href="users.html" class="nav-item" data-page="users">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                    <path
                        d="M320 80C377.4 80 424 126.6 424 184C424 241.4 377.4 288 320 288C262.6 288 216 241.4 216 184C216 126.6 262.6 80 320 80zM96 152C135.8 152 168 184.2 168 224C168 263.8 135.8 296 96 296C56.2 296 24 263.8 24 224C24 184.2 56.2 152 96 152zM0 480C0 409.3 57.3 352 128 352C140.8 352 153.2 353.9 164.9 357.4C132 394.2 112 442.8 112 496L112 512C112 523.4 114.4 534.2 118.7 544L32 544C14.3 544 0 529.7 0 512L0 480zM521.3 544C525.6 534.2 528 523.4 528 512L528 496C528 442.8 508 394.2 475.1 357.4C486.8 353.9 499.2 352 512 352C582.7 352 640 409.3 640 480L640 512C640 529.7 625.7 544 608 544L521.3 544zM472 224C472 184.2 504.2 152 544 152C583.8 152 616 184.2 616 224C616 263.8 583.8 296 544 296C504.2 296 472 263.8 472 224zM160 496C160 407.6 231.6 336 320 336C408.4 336 480 407.6 480 496L480 512C480 529.7 465.7 544 448 544L192 544C174.3 544 160 529.7 160 512L160 496z" />
                </svg>
                <span>Users</span>
            </a>
            <a href="enquiries.html" class="nav-item" data-page="email">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M16.8 19L14 22.5L11.2 19H6C5.44772 19 5 18.5523 5 18V7.10256C5 6.55028 5.44772 6.10256 6 6.10256H22C22.5523 6.10256 23 6.55028 23 7.10256V18C23 18.5523 22.5523 19 22 19H16.8ZM2 2H19V4H3V15H1V3C1 2.44772 1.44772 2 2 2Z">
                    </path>
                </svg>
                <span>Enquiries</span>
            </a>
            <a href="profile.html" class="nav-item" data-page="email">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM6.02332 15.4163C7.49083 17.6069 9.69511 19 12.1597 19C14.6243 19 16.8286 17.6069 18.2961 15.4163C16.6885 13.9172 14.5312 13 12.1597 13C9.78821 13 7.63095 13.9172 6.02332 15.4163ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z">
                    </path>
                </svg>
                <span>Profile</span>
            </a>
        </nav>
    </aside>

    <main>
        <!-- Promo Message Section -->
        <section>
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Promo Message</h2>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 70%;">Message</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <textarea>Get 20% off on all items this weekend! Use code WEEKEND20 at checkout.</textarea>
                                </td>
                                <td>
                                    <!-- <div id="promoStatusDisplay">
                                        <span class="status-badge active">Active</span>
                                    </div> -->

                                    <select style="min-width: 100px;">
                                        <option value="active">Active</option>
                                        <option value="not-active">Not Active</option>
                                    </select>
                                </td>
                                <td>
                                    <button id="promoEditBtn" class="btn btn-secondary">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 3H17L20.7071 6.70711C20.8946 6.89464 21 7.149 21 7.41421V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM12 18C13.6569 18 15 16.6569 15 15C15 13.3431 13.6569 12 12 12C10.3431 12 9 13.3431 9 15C9 16.6569 10.3431 18 12 18ZM5 5V9H15V5H5Z"></path></svg>
                                        Save Changes
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Send Promotional Email Section -->
        <section>
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Send Promotional Email</h2>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th style="width: 50%;">Message</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type="text" id="emailSubject" placeholder="Enter email subject" required>
                                </td>
                                <td>
                                    <textarea id="emailMessage" placeholder="Enter email message" required
                                        rows="5"></textarea>
                                </td>
                                <td>
                                    <button class="btn btn-secondary">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M1.94607 9.31543C1.42353 9.14125 1.4194 8.86022 1.95682 8.68108L21.043 2.31901C21.5715 2.14285 21.8746 2.43866 21.7265 2.95694L16.2733 22.0432C16.1223 22.5716 15.8177 22.59 15.5944 22.0876L11.9999 14L17.9999 6.00005L9.99992 12L1.94607 9.31543Z"></path></svg>
                                        Send Email
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Coupons Section -->
        <section class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Coupon Codes</h2>
                    <button id="addCouponBtn" class="btn btn-outline">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"></path></svg>
                        Add Coupon
                    </button>
                </div>
                <div class="table-wrapper">
                    <table id="couponsTable">
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Discount (%)</th>
                                <th>Expiry Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="couponsTableBody">
                            <tr data-id="1">
                                <td>SUMMER25</td>
                                <td>25</td>
                                <td>2025-08-31</td>
                                <td><span class="status-badge active">Active</span></td>
                                <td>
                                    <div class="table-actions">
                                        <span class="" title="Edit">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.7574 2.99678L9.29145 10.4627L9.29886 14.7099L13.537 14.7024L21 7.23943V19.9968C21 20.5491 20.5523 20.9968 20 20.9968H4C3.44772 20.9968 3 20.5491 3 19.9968V3.99678C3 3.4445 3.44772 2.99678 4 2.99678H16.7574ZM20.4853 2.09729L21.8995 3.5115L12.7071 12.7039L11.2954 12.7064L11.2929 11.2897L20.4853 2.09729Z"></path></svg>
                                        </span>
                                        <span class="delete delete-coupon" title="Delete">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9ZM9 12V18H11V12H9ZM13 12V18H15V12H13Z"></path></svg>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr data-id="2">
                                <td>NEWUSER10</td>
                                <td>10</td>
                                <td>2025-12-31</td>
                                <td><span class="status-badge active">Active</span></td>
                                <td>
                                    <div class="table-actions">
                                        <span class="" title="Edit">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.7574 2.99678L9.29145 10.4627L9.29886 14.7099L13.537 14.7024L21 7.23943V19.9968C21 20.5491 20.5523 20.9968 20 20.9968H4C3.44772 20.9968 3 20.5491 3 19.9968V3.99678C3 3.4445 3.44772 2.99678 4 2.99678H16.7574ZM20.4853 2.09729L21.8995 3.5115L12.7071 12.7039L11.2954 12.7064L11.2929 11.2897L20.4853 2.09729Z"></path></svg>
                                        </span>
                                        <span class="delete delete-coupon" title="Delete">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9ZM9 12V18H11V12H9ZM13 12V18H15V12H13Z"></path></svg>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- Coupon Modal -->
    <div id="couponModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add Coupon</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="couponForm">
                <input type="hidden" id="couponId">
                <div class="form-group">
                    <label for="couponCode">Coupon Code</label>
                    <input type="text" id="couponCode" placeholder="e.g., SAVE20" required>
                </div>
                <div class="form-group">
                    <label for="couponDiscount">Discount (%)</label>
                    <input type="number" id="couponDiscount" placeholder="e.g., 20" min="1" max="100" required>
                </div>
                <div class="form-group">
                    <label for="couponExpiry">Expiry Date</label>
                    <input type="date" id="couponExpiry" required>
                </div>
                <div class="form-group">
                    <label for="couponStatus">Status</label>
                    <select id="couponStatus" required>
                        <option value="active">Active</option>
                        <option value="inactive">Not Active</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Coupon</button>
                </div>
            </form>
        </div>
    </div>

    <!-- <script>
        // Promo Message Edit Functionality
        const promoEditBtn = document.getElementById('promoEditBtn');
        const promoMessage = document.getElementById('promoMessage');
        const promoStatusDisplay = document.getElementById('promoStatusDisplay');
        let isEditingPromo = false;
        let originalPromoMessage = '';
        let originalPromoStatus = 'active';

        promoEditBtn.addEventListener('click', () => {
            if (!isEditingPromo) {
                // Enter edit mode
                isEditingPromo = true;
                originalPromoMessage = promoMessage.textContent;

                // Convert message to textarea
                const textarea = document.createElement('textarea');
                textarea.className = 'promo-message editing';
                textarea.value = originalPromoMessage;
                textarea.id = 'promoMessageEdit';
                promoMessage.replaceWith(textarea);

                // Convert status to select
                const statusSelect = document.createElement('select');
                statusSelect.className = 'promo-status';
                statusSelect.id = 'promoStatusEdit';
                statusSelect.innerHTML = `
                    <option value="active" ${originalPromoStatus === 'active' ? 'selected' : ''}>Active</option>
                    <option value="inactive" ${originalPromoStatus === 'inactive' ? 'selected' : ''}>Not Active</option>
                `;
                promoStatusDisplay.replaceWith(statusSelect);

                // Change button
                promoEditBtn.innerHTML = '<i class="fas fa-save"></i> Save Changes';
                promoEditBtn.className = 'btn btn-accent';
            } else {
                // Save changes
                const editedMessage = document.getElementById('promoMessageEdit').value;
                const editedStatus = document.getElementById('promoStatusEdit').value;

                // Convert back to display
                const messageDiv = document.createElement('div');
                messageDiv.className = 'promo-message';
                messageDiv.id = 'promoMessage';
                messageDiv.textContent = editedMessage;
                document.getElementById('promoMessageEdit').replaceWith(messageDiv);

                const statusDiv = document.createElement('div');
                statusDiv.id = 'promoStatusDisplay';
                statusDiv.innerHTML = `<span class="status-badge status-${editedStatus}">${editedStatus === 'active' ? 'Active' : 'Not Active'}</span>`;
                document.getElementById('promoStatusEdit').replaceWith(statusDiv);

                originalPromoStatus = editedStatus;

                // Change button back
                promoEditBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.7574 2.99678L9.29145 10.4627L9.29886 14.7099L13.537 14.7024L21 7.23943V19.9968C21 20.5491 20.5523 20.9968 20 20.9968H4C3.44772 20.9968 3 20.5491 3 19.9968V3.99678C3 3.4445 3.44772 2.99678 4 2.99678H16.7574ZM20.4853 2.09729L21.8995 3.5115L12.7071 12.7039L11.2954 12.7064L11.2929 11.2897L20.4853 2.09729Z"></path></svg> Edit';
                promoEditBtn.className = 'btn btn-primary';
                isEditingPromo = false;

                alert('Promo message updated successfully!');
            }
        });

        // Email Form Submission
        document.getElementById('emailForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const subject = document.getElementById('emailSubject').value;
            const message = document.getElementById('emailMessage').value;

            alert(`Email sent!\nSubject: ${subject}\nMessage: ${message}`);
            e.target.reset();
        });

        // Coupon Modal Management
        const modal = document.getElementById('couponModal');
        const addCouponBtn = document.getElementById('addCouponBtn');
        const closeModalBtns = document.querySelectorAll('.close-modal');
        const couponForm = document.getElementById('couponForm');
        const modalTitle = document.getElementById('modalTitle');
        let editingCouponRow = null;
        let nextCouponId = 3;

        addCouponBtn.addEventListener('click', () => {
            modalTitle.textContent = 'Add Coupon';
            couponForm.reset();
            document.getElementById('couponId').value = '';
            editingCouponRow = null;
            modal.classList.add('active');
        });

        closeModalBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                modal.classList.remove('active');
            });
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        // Coupon Form Submission
        couponForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const code = document.getElementById('couponCode').value;
            const discount = document.getElementById('couponDiscount').value;
            const expiry = document.getElementById('couponExpiry').value;
            const status = document.getElementById('couponStatus').value;
            const couponId = document.getElementById('couponId').value;

            if (editingCouponRow) {
                // Update existing coupon
                editingCouponRow.innerHTML = `
                    <td>${code}</td>
                    <td>${discount}</td>
                    <td>${expiry}</td>
                    <td><span class="status-badge status-${status}">${status === 'active' ? 'Active' : 'Not Active'}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="btn-icon edit-coupon" title="Edit">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.7574 2.99678L9.29145 10.4627L9.29886 14.7099L13.537 14.7024L21 7.23943V19.9968C21 20.5491 20.5523 20.9968 20 20.9968H4C3.44772 20.9968 3 20.5491 3 19.9968V3.99678C3 3.4445 3.44772 2.99678 4 2.99678H16.7574ZM20.4853 2.09729L21.8995 3.5115L12.7071 12.7039L11.2954 12.7064L11.2929 11.2897L20.4853 2.09729Z"></path></svg>
                            </button>
                            <button class="btn-icon delete delete-coupon" title="Delete">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9ZM9 12V18H11V12H9ZM13 12V18H15V12H13Z"></path></svg>
                            </button>
                        </div>
                    </td>
                `;
                attachCouponEventListeners(editingCouponRow);
            } else {
                // Add new coupon
                const tbody = document.getElementById('couponsTableBody');
                const newRow = tbody.insertRow();
                newRow.setAttribute('data-id', nextCouponId++);
                newRow.innerHTML = `
                    <td>${code}</td>
                    <td>${discount}</td>
                    <td>${expiry}</td>
                    <td><span class="status-badge status-${status}">${status === 'active' ? 'Active' : 'Not Active'}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="btn-icon edit-coupon" title="Edit">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.7574 2.99678L9.29145 10.4627L9.29886 14.7099L13.537 14.7024L21 7.23943V19.9968C21 20.5491 20.5523 20.9968 20 20.9968H4C3.44772 20.9968 3 20.5491 3 19.9968V3.99678C3 3.4445 3.44772 2.99678 4 2.99678H16.7574ZM20.4853 2.09729L21.8995 3.5115L12.7071 12.7039L11.2954 12.7064L11.2929 11.2897L20.4853 2.09729Z"></path></svg>
                            </button>
                            <button class="btn-icon delete delete-coupon" title="Delete">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9ZM9 12V18H11V12H9ZM13 12V18H15V12H13Z"></path></svg>
                            </button>
                        </div>
                    </td>
                `;
                attachCouponEventListeners(newRow);
            }

            modal.classList.remove('active');
            couponForm.reset();
        });

        // Attach Event Listeners to Coupon Rows
        function attachCouponEventListeners(row) {
            const editBtn = row.querySelector('.edit-coupon');
            const deleteBtn = row.querySelector('.delete-coupon');

            editBtn.addEventListener('click', () => {
                editingCouponRow = row;
                modalTitle.textContent = 'Edit Coupon';

                const cells = row.cells;
                document.getElementById('couponCode').value = cells[0].textContent;
                document.getElementById('couponDiscount').value = cells[1].textContent;
                document.getElementById('couponExpiry').value = cells[2].textContent;
                document.getElementById('couponStatus').value = cells[3].textContent.toLowerCase().includes('active') && !cells[3].textContent.toLowerCase().includes('not') ? 'active' : 'inactive';
                document.getElementById('couponId').value = row.getAttribute('data-id');

                modal.classList.add('active');
            });

            deleteBtn.addEventListener('click', () => {
                if (confirm('Are you sure you want to delete this coupon?')) {
                    row.remove();
                }
            });
        }

        // Initialize event listeners for existing rows
        document.querySelectorAll('#couponsTableBody tr').forEach(row => {
            attachCouponEventListeners(row);
        });
    </script> -->
    
    <footer id="footer">
        <div class="container">
            <div class="content">
                <p>&copy; 2025 SGN-Gerawa Rice Company. All rights reserved.</p>
                <a target="_blank" href="../index.html">View Website</a>
            </div>
        </div>
    </footer>

    <script type="module" src="../dist/main.js"></script>
</body>

</html>